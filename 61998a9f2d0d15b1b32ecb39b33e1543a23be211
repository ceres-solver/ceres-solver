{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a9c8e4ee_79bba672",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 6612
      },
      "writtenOn": "2024-09-15T20:19:57Z",
      "side": 1,
      "message": "Thanks for your patience guys and sorry for the delay.\n\nReinhold, your changes are going in the right direction. However, I have a couple of comments that we should sort out.",
      "revId": "61998a9f2d0d15b1b32ecb39b33e1543a23be211",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "387766e5_3e0bb99d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 6149
      },
      "writtenOn": "2024-09-16T07:52:04Z",
      "side": 1,
      "message": "a bit simplified using `find_dependency`. Some open questions how to handle the submodule case as `absl_VERSION` isn\u0027t defined",
      "revId": "61998a9f2d0d15b1b32ecb39b33e1543a23be211",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c3609908_7997f919",
        "filename": "CMakeLists.txt",
        "patchSetId": 5
      },
      "lineNbr": 154,
      "author": {
        "id": 6612
      },
      "writtenOn": "2024-09-15T20:19:57Z",
      "side": 1,
      "message": "```suggestion\n  set(CERES_USE_SYSTEM_ABSL NO)\n```\nto better reflect that this is a boolean variable.",
      "range": {
        "startLine": 154,
        "startChar": 6,
        "endLine": 154,
        "endChar": 23
      },
      "revId": "61998a9f2d0d15b1b32ecb39b33e1543a23be211",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7fde0de3_75cba57f",
        "filename": "CMakeLists.txt",
        "patchSetId": 5
      },
      "lineNbr": 154,
      "author": {
        "id": 6149
      },
      "writtenOn": "2024-09-16T07:52:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c3609908_7997f919",
      "range": {
        "startLine": 154,
        "startChar": 6,
        "endLine": 154,
        "endChar": 23
      },
      "revId": "61998a9f2d0d15b1b32ecb39b33e1543a23be211",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a5e4af1a_deaf5162",
        "filename": "CMakeLists.txt",
        "patchSetId": 5
      },
      "lineNbr": 169,
      "author": {
        "id": 6612
      },
      "writtenOn": "2024-09-15T20:19:57Z",
      "side": 1,
      "message": "```suggestion\n  set(CERES_USE_SYSTEM_ABSL YES)\n```",
      "revId": "61998a9f2d0d15b1b32ecb39b33e1543a23be211",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "17cc49b3_cd7a998a",
        "filename": "CMakeLists.txt",
        "patchSetId": 5
      },
      "lineNbr": 169,
      "author": {
        "id": 6149
      },
      "writtenOn": "2024-09-16T07:52:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a5e4af1a_deaf5162",
      "revId": "61998a9f2d0d15b1b32ecb39b33e1543a23be211",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "455d0d6f_35ab5398",
        "filename": "cmake/CeresConfig.cmake.in",
        "patchSetId": 5
      },
      "lineNbr": 199,
      "author": {
        "id": 6612
      },
      "writtenOn": "2024-09-15T20:19:57Z",
      "side": 1,
      "message": "It is not clear to me why we need all the manual version checks here instead of simply using `find_dependency` with the minimum version of Abseil we expect.\n\nWe should use version compatibility checks as provided by Abseil particularly because the underlying rules may be more complicated than we can (and should) maintain.",
      "revId": "61998a9f2d0d15b1b32ecb39b33e1543a23be211",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aef5e91f_dbcf6e6d",
        "filename": "cmake/CeresConfig.cmake.in",
        "patchSetId": 5
      },
      "lineNbr": 199,
      "author": {
        "id": 5002
      },
      "writtenOn": "2024-09-15T22:10:56Z",
      "side": 1,
      "message": "I think this is a remanent of the way I was checking versions in the main cmake file.\n\nI have fixed it as https://ceres-solver-review.git.corp.google.com/c/ceres-solver/+/26760\n\nwe should be able to simplify things here also as a result.",
      "parentUuid": "455d0d6f_35ab5398",
      "revId": "61998a9f2d0d15b1b32ecb39b33e1543a23be211",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bc651033_32b32dc9",
        "filename": "cmake/CeresConfig.cmake.in",
        "patchSetId": 5
      },
      "lineNbr": 199,
      "author": {
        "id": 6149
      },
      "writtenOn": "2024-09-16T07:52:04Z",
      "side": 1,
      "message": "using `find_dependency` now",
      "parentUuid": "aef5e91f_dbcf6e6d",
      "revId": "61998a9f2d0d15b1b32ecb39b33e1543a23be211",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "499595e7_e5f62a47",
        "filename": "cmake/CeresConfig.cmake.in",
        "patchSetId": 5
      },
      "lineNbr": 207,
      "author": {
        "id": 6612
      },
      "writtenOn": "2024-09-15T20:19:57Z",
      "side": 1,
      "message": "```suggestion\n    if (NOT absl_VERSION)\n```",
      "revId": "61998a9f2d0d15b1b32ecb39b33e1543a23be211",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b3fd1f78_260e2316",
        "filename": "cmake/CeresConfig.cmake.in",
        "patchSetId": 5
      },
      "lineNbr": 207,
      "author": {
        "id": 6149
      },
      "writtenOn": "2024-09-16T07:52:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "499595e7_e5f62a47",
      "revId": "61998a9f2d0d15b1b32ecb39b33e1543a23be211",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b26a1b2c_cf3b10d9",
        "filename": "cmake/CeresConfig.cmake.in",
        "patchSetId": 5
      },
      "lineNbr": 208,
      "author": {
        "id": 6612
      },
      "writtenOn": "2024-09-15T20:19:57Z",
      "side": 1,
      "message": "Can\u0027t we request this component as part of the `find_package`/`find_dependency` call?",
      "revId": "61998a9f2d0d15b1b32ecb39b33e1543a23be211",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e61f34f7_6a85a07e",
        "filename": "cmake/CeresConfig.cmake.in",
        "patchSetId": 5
      },
      "lineNbr": 208,
      "author": {
        "id": 6149
      },
      "writtenOn": "2024-09-16T07:52:04Z",
      "side": 1,
      "message": "I tried with `find_package(absl REQUIRED COMPONENTS vlog_is_on)` but it seems the components aren\u0027t checked. So unfortunately not",
      "parentUuid": "b26a1b2c_cf3b10d9",
      "revId": "61998a9f2d0d15b1b32ecb39b33e1543a23be211",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7846d5a6_7e76e439",
        "filename": "cmake/CeresConfig.cmake.in",
        "patchSetId": 5
      },
      "lineNbr": 224,
      "author": {
        "id": 6612
      },
      "writtenOn": "2024-09-15T20:19:57Z",
      "side": 1,
      "message": "This `find_dependency` invocation should request the Abseil version from the submodule to avoid any possible side effects. For instance, a different dependency might locate another incompatible version of the Abseil first or the user could override the Abseil location altogether.",
      "revId": "61998a9f2d0d15b1b32ecb39b33e1543a23be211",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "81772e30_9b4e7498",
        "filename": "cmake/CeresConfig.cmake.in",
        "patchSetId": 5
      },
      "lineNbr": 224,
      "author": {
        "id": 6149
      },
      "writtenOn": "2024-09-16T07:52:04Z",
      "side": 1,
      "message": "the version information isn\u0027t passed \"up\". The `absl_VERSION` variable is empty when using the `abseil-cpp` submodule. So I can\u0027t check against the version.\n\nIf this is a requirement, then we need to extract the `absl_VERSION` from the submodule ourselfs https://stackoverflow.com/questions/49531044/get-cmake-project-version-added-by-add-subdirectory",
      "parentUuid": "7846d5a6_7e76e439",
      "revId": "61998a9f2d0d15b1b32ecb39b33e1543a23be211",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5af6e322_2ea0c261",
        "filename": "cmake/CeresConfig.cmake.in",
        "patchSetId": 5
      },
      "lineNbr": 225,
      "author": {
        "id": 6612
      },
      "writtenOn": "2024-09-15T20:19:57Z",
      "side": 1,
      "message": "Unset both help variables `CERES_ABSL_VERSION` and `CERES_USE_SYSTEM_ABSL` here to avoid leaking them into user projects. These variables should have no use for users anyway.\n\nMaybe even prefix variable names by an underscore to indicate that those are intended for private use.",
      "revId": "61998a9f2d0d15b1b32ecb39b33e1543a23be211",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cc3fb8eb_947434c9",
        "filename": "cmake/CeresConfig.cmake.in",
        "patchSetId": 5
      },
      "lineNbr": 225,
      "author": {
        "id": 6149
      },
      "writtenOn": "2024-09-16T07:52:04Z",
      "side": 1,
      "message": "done. Should then also be done for `CERES_EIGEN_VERSION` as I took that variable as inspiration",
      "parentUuid": "5af6e322_2ea0c261",
      "revId": "61998a9f2d0d15b1b32ecb39b33e1543a23be211",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    }
  ]
}